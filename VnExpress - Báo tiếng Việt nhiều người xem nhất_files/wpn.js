!function(){"use strict";var c=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e};function e(e,t){return e(t={exports:{}},t.exports),t.exports}var l=e(function(t){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(e){return typeof e}:t.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}t.exports=n});var r=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r};var t=function(e){if(Array.isArray(e))return r(e)};var n=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)};var a=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}};var i=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var o=function(e){return t(e)||n(e)||a(e)||i()};function u(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}var h=function(s){return function(){var e=this,o=arguments;return new Promise(function(t,n){var r=s.apply(e,o);function a(e){u(r,t,n,a,i,"next",e)}function i(e){u(r,t,n,a,i,"throw",e)}a(void 0)})}};var s=function(e){if(Array.isArray(e))return e};var f=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}};var p=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var d=function(e,t){return s(e)||f(e,t)||a(e,t)||p()};var v=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},g=e(function(n){function r(e,t){return n.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.exports=r});var y=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)};var b=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?v(e):t},m=e(function(t){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}t.exports=n});var w=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")};var k=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}},x=e(function(r){function a(e,t,n){return k()?r.exports=a=Reflect.construct:r.exports=a=function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&g(a,n.prototype),a},a.apply(null,arguments)}r.exports=a}),S=e(function(t){function r(e){var n="function"==typeof Map?new Map:void 0;return t.exports=r=function(e){if(null===e||!w(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return x(e,arguments,m(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),g(t,e)},r(e)}t.exports=r});var I=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E,O,D,C=function(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),e},A=e(function(e){var t=function(o){var c,e=Object.prototype,f=e.hasOwnProperty,p=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},a=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",r=t.toStringTag||"@@toStringTag";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,s,c,a=t&&t.prototype instanceof b?t:b,u=Object.create(a.prototype),f=new C(r||[]);return p(u,"_invoke",{value:(i=e,o=n,s=f,c=h,function(e,t){if(c===v)throw new Error("Generator is already running");if(c===g){if("throw"===e)throw t;return T()}for(s.method=e,s.arg=t;;){var n=s.delegate;if(n){var r=E(n,s);if(r){if(r===y)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(c===h)throw c=g,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);c=v;var a=l(i,o,s);if("normal"===a.type){if(c=s.done?g:d,a.arg===y)continue;return{value:a.arg,done:s.done}}"throw"===a.type&&(c=g,s.method="throw",s.arg=a.arg)}})}),u}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}o.wrap=s;var h="suspendedStart",d="suspendedYield",v="executing",g="completed",y={};function b(){}function u(){}function m(){}var w={};i(w,a,function(){return this});var k=Object.getPrototypeOf,x=k&&k(k(A([])));x&&x!==e&&f.call(x,a)&&(w=x);var S=m.prototype=b.prototype=Object.create(w);function I(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function _(c,u){var t;p(this,"_invoke",{value:function(n,r){function e(){return new u(function(e,t){!function t(e,n,r,a){var i=l(c[e],c,n);if("throw"!==i.type){var o=i.arg,s=o.value;return s&&"object"==typeof s&&f.call(s,"__await")?u.resolve(s.__await).then(function(e){t("next",e,r,a)},function(e){t("throw",e,r,a)}):u.resolve(s).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,a)})}a(i.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function E(e,t){var n=e.iterator[t.method];if(n===c){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=c,E(e,t),"throw"===t.method))return y;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,y;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=c),t.delegate=null,y):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function A(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(f.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=c,e.done=!0,e};return r.next=r}}return{next:T}}function T(){return{value:c,done:!0}}return p(S,"constructor",{value:u.prototype=m,configurable:!0}),p(m,"constructor",{value:u,configurable:!0}),u.displayName=i(m,r,"GeneratorFunction"),o.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===u||"GeneratorFunction"===(t.displayName||t.name))},o.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,i(e,r,"GeneratorFunction")),e.prototype=Object.create(S),e},o.awrap=function(e){return{__await:e}},I(_.prototype),i(_.prototype,n,function(){return this}),o.AsyncIterator=_,o.async=function(e,t,n,r,a){void 0===a&&(a=Promise);var i=new _(s(e,t,n,r),a);return o.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},I(S),i(S,r,"Generator"),i(S,a,function(){return this}),i(S,"toString",function(){return"[object Generator]"}),o.keys=function(e){var n=Object(e),r=[];for(var t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},o.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(D),!e)for(var t in this)"t"===t.charAt(0)&&f.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=c)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return i.type="throw",i.arg=n,r.next=e,t&&(r.method="next",r.arg=c),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var a=this.tryEntries[t],i=a.completion;if("root"===a.tryLoc)return e("end");if(a.tryLoc<=this.prev){var o=f.call(a,"catchLoc"),s=f.call(a,"finallyLoc");if(o&&s){if(this.prev<a.catchLoc)return e(a.catchLoc,!0);if(this.prev<a.finallyLoc)return e(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return e(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return e(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&f.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;D(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=c),y}},o}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}});function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach(function(e){c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function P(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=m(r);if(a){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)}}function M(e){for(var t=[],n=0,r=0;r<e.length;r++){var a=e.charCodeAt(r);a<128?t[n++]=a:(a<2048?t[n++]=a>>6|192:(55296==(64512&a)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128):t[n++]=a>>12|224,t[n++]=a>>6&63|128),t[n++]=63&a|128)}return t}var B={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],a=0;a<e.length;a+=3){var i=e[a],o=a+1<e.length,s=o?e[a+1]:0,c=a+2<e.length,u=c?e[a+2]:0,f=i>>2,p=(3&i)<<4|s>>4,l=(15&s)<<2|u>>6,h=63&u;c||(h=64,o||(l=64)),r.push(n[f],n[p],n[l],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(M(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(191<a&&a<224){var i=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&i)}else if(239<a&&a<365){var o=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],c=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&s)<<6|63&c)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],a=0;a<e.length;){var i=n[e.charAt(a++)],o=a<e.length?n[e.charAt(a)]:0,s=++a<e.length?n[e.charAt(a)]:64,c=++a<e.length?n[e.charAt(a)]:64;if(++a,null==i||null==o||null==s||null==c)throw Error();var u=i<<2|o>>4;if(r.push(u),64!==s){var f=o<<4&240|s>>2;if(r.push(f),64!==c){var p=s<<6&192|c;r.push(p)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},R=function(e){return t=M(e),B.encodeByteArray(t,!0).replace(/\./g,"");var t};function F(){try{return"object"===("undefined"==typeof indexedDB?"undefined":l(indexedDB))}catch(e){return}}function W(){return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__}function H(){if("undefined"!=typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}var t=e&&function(e){try{return B.decodeString(e,!0)}catch(e){}return null}(e[1]);return t&&JSON.parse(t)}}function K(){try{return W()||function(){if("undefined"!=typeof process&&void 0!==process.env){var e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||H()}catch(e){return}}var V=function(){var e;return null===(e=K())||void 0===e?void 0:e.config},U=function(){function e(){var n=this;I(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,t){n.resolve=e,n.reject=t})}return C(e,[{key:"wrapCallback",value:function(n){var r=this;return function(e,t){e?r.reject(e):r.resolve(t),"function"==typeof n&&(r.promise.catch(function(){}),1===n.length?n(e):n(e,t))}}}]),e}(),q=function(e){y(i,e);var a=L(i);function i(e,t,n){var r;return I(this,i),(r=a.call(this,t)).code=e,r.customData=n,r.name="FirebaseError",Object.setPrototypeOf(v(r),i.prototype),Error.captureStackTrace&&Error.captureStackTrace(v(r),z.prototype.create),r}return i}(S(Error)),z=function(){function r(e,t,n){I(this,r),this.service=e,this.serviceName=t,this.errors=n}return C(r,[{key:"create",value:function(e,t){var r,n=(arguments.length<=1?void 0:t)||{},a="".concat(this.service,"/").concat(e),i=this.errors[e],o=i?(r=n,i.replace($,function(e,t){var n=r[t];return null!=n?String(n):"<".concat(t,"?>")})):"Error",s="".concat(this.serviceName,": ").concat(o," (").concat(a,").");return new q(a,s,n)}}]),r}();var $=/\{\$([^}]+)}/g;function G(e,t){if(e===t)return 1;for(var n=Object.keys(e),r=Object.keys(t),a=0,i=n;a<i.length;a++){var o=i[a];if(!r.includes(o))return;var s=e[o],c=t[o];if(J(s)&&J(c)){if(!G(s,c))return}else if(s!==c)return}for(var u=0,f=r;u<f.length;u++){var p=f[u];if(!n.includes(p))return}return 1}function J(e){return null!==e&&"object"===l(e)}var Y=function(){function r(e,t,n){I(this,r),this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return C(r,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),r}(),X="[DEFAULT]",Q=function(){function n(e,t){I(this,n),this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}var e;return C(n,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new U;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:X})}catch(e){}var t,n=P(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=d(t.value,2),a=r[0],i=r[1],o=this.normalizeInstanceIdentifier(a);try{var s=this.getOrInitializeService({instanceIdentifier:o});i.resolve(s)}catch(e){}}}catch(e){n.e(e)}finally{n.f()}}}},{key:"clearInstance",value:function(e){var t=0<arguments.length&&void 0!==e?e:X;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}},{key:"delete",value:(e=h(A.mark(function e(){var t;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(o(t.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()})),o(t.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))));case 3:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(e){var t=0<arguments.length&&void 0!==e?e:X;return this.instances.has(t)}},{key:"getOptions",value:function(e){var t=0<arguments.length&&void 0!==e?e:X;return this.instancesOptions.get(t)||{}}},{key:"initialize",value:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.options,r=void 0===n?{}:n,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error("".concat(this.name,"(").concat(a,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:a,options:r}),s=P(this.instancesDeferred.entries());try{for(s.s();!(i=s.n()).done;){var c=d(i.value,2),u=c[0],f=c[1];a===this.normalizeInstanceIdentifier(u)&&f.resolve(o)}}catch(e){s.e(e)}finally{s.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);var i=this.instances.get(r);return i&&e(i,r),function(){a.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,a=P(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;try{i(e,t)}catch(e){}}}catch(e){a.e(e)}finally{a.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,a=void 0===r?{}:r,i=this.instances.get(n);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n)===X?void 0:t,options:a}),this.instances.set(n,i),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(i,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,i)}catch(e){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(e){var t=0<arguments.length&&void 0!==e?e:X;return!this.component||this.component.multipleInstances?t:X}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),n}();var Z,ee,te=function(){function t(e){I(this,t),this.name=e,this.providers=new Map}return C(t,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Q(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),t}();(ee=Z=Z||{})[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT";function ne(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=se[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a,i=arguments.length,o=new Array(2<i?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];(a=console)[r].apply(a,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}}var re,ae,ie={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},oe=Z.INFO,se=(c(E={},Z.DEBUG,"log"),c(E,Z.VERBOSE,"log"),c(E,Z.INFO,"info"),c(E,Z.WARN,"warn"),c(E,Z.ERROR,"error"),E),ce=function(){function t(e){I(this,t),this.name=e,this._logLevel=oe,this._logHandler=ne,this._userLogHandler=null}return C(t,[{key:"setLogLevel",value:function(e){this._logLevel="string"==typeof e?ie[e]:e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Z.DEBUG].concat(t)),this._logHandler.apply(this,[this,Z.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Z.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Z.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Z.INFO].concat(t)),this._logHandler.apply(this,[this,Z.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Z.WARN].concat(t)),this._logHandler.apply(this,[this,Z.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Z.ERROR].concat(t)),this._logHandler.apply(this,[this,Z.ERROR].concat(t))}},{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Z))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}}]),t}(),ue=function(t,e){return e.some(function(e){return t instanceof e})};var fe=new WeakMap,pe=new WeakMap,le=new WeakMap,he=new WeakMap,de=new WeakMap;var ve={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return pe.get(e);if("objectStoreNames"===t)return e.objectStoreNames||le.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return be(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function ge(i){return i!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ae=ae||[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]).includes(i)?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.apply(me(this),t),be(fe.get(this))}:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return be(i.apply(me(this),t))}:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=i.call.apply(i,[me(this),e].concat(n));return le.set(a,e.sort?e.sort():[e]),be(a)}}function ye(e){return"function"==typeof e?ge(e):(e instanceof IDBTransaction&&function(i){if(!pe.has(i)){var e=new Promise(function(e,t){function n(){i.removeEventListener("complete",r),i.removeEventListener("error",a),i.removeEventListener("abort",a)}var r=function(){e(),n()},a=function(){t(i.error||new DOMException("AbortError","AbortError")),n()};i.addEventListener("complete",r),i.addEventListener("error",a),i.addEventListener("abort",a)});pe.set(i,e)}}(e),ue(e,re=re||[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])?new Proxy(e,ve):e)}function be(e){if(e instanceof IDBRequest)return i=e,(t=new Promise(function(e,t){function n(){i.removeEventListener("success",r),i.removeEventListener("error",a)}var r=function(){e(be(i.result)),n()},a=function(){t(i.error),n()};i.addEventListener("success",r),i.addEventListener("error",a)})).then(function(e){e instanceof IDBCursor&&fe.set(e,i)}).catch(function(){}),de.set(t,i),t;var i,t;if(he.has(e))return he.get(e);var n=ye(e);return n!==e&&(he.set(e,n),de.set(n,e)),n}var me=function(e){return de.get(e)};var we=["get","getKey","getAll","getAllKeys","count"],ke=["put","add","delete","clear"],xe=new Map;function Se(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t){if(xe.get(t))return xe.get(t);var c=t.replace(/FromIndex$/,""),u=t!==c,f=ke.includes(c);if(c in(u?IDBIndex:IDBObjectStore).prototype&&(f||we.includes(c))){var n=function(){var t=h(A.mark(function e(t){var n,r,a,i,o,s=arguments;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=this.transaction(t,f?"readwrite":"readonly"),r=n.store,a=s.length,i=new Array(1<a?a-1:0),o=1;o<a;o++)i[o-1]=s[o];return u&&(r=r.index(i.shift())),e.next=6,Promise.all([r[c].apply(r,i),f&&n.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}();return xe.set(t,n),n}}}ve=function(r){return j(j({},r),{},{get:function(e,t,n){return Se(e,t)||r.get(e,t,n)},has:function(e,t){return!!Se(e,t)||r.has(e,t)}})}(ve);var Ie=function(){function t(e){I(this,t),this.container=e}return C(t,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map(function(e){if("VERSION"!==(null==(t=e.getComponent())?void 0:t.type))return null;var t,n=e.getImmediate();return"".concat(n.library,"/").concat(n.version)}).filter(function(e){return e}).join(" ")}}]),t}();var _e="https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js",Ee=new ce("https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js"),Oe="[DEFAULT]",De=(c(O={},_e,"fire-core"),c(O,"@firebase/app-compat","fire-core-compat"),c(O,"@firebase/analytics","fire-analytics"),c(O,"@firebase/analytics-compat","fire-analytics-compat"),c(O,"@firebase/app-check","fire-app-check"),c(O,"@firebase/app-check-compat","fire-app-check-compat"),c(O,"@firebase/auth","fire-auth"),c(O,"@firebase/auth-compat","fire-auth-compat"),c(O,"@firebase/database","fire-rtdb"),c(O,"@firebase/database-compat","fire-rtdb-compat"),c(O,"@firebase/functions","fire-fn"),c(O,"@firebase/functions-compat","fire-fn-compat"),c(O,"@firebase/installations","fire-iid"),c(O,"@firebase/installations-compat","fire-iid-compat"),c(O,"@firebase/messaging","fire-fcm"),c(O,"@firebase/messaging-compat","fire-fcm-compat"),c(O,"@firebase/performance","fire-perf"),c(O,"@firebase/performance-compat","fire-perf-compat"),c(O,"@firebase/remote-config","fire-rc"),c(O,"@firebase/remote-config-compat","fire-rc-compat"),c(O,"@firebase/storage","fire-gcs"),c(O,"@firebase/storage-compat","fire-gcs-compat"),c(O,"@firebase/firestore","fire-fst"),c(O,"@firebase/firestore-compat","fire-fst-compat"),c(O,"fire-js","fire-js"),c(O,"firebase","fire-js-all"),O),Ce=new Map,Ae=new Map;function Te(t,n){try{t.container.addComponent(n)}catch(e){Ee.debug("Component ".concat(n.name," failed to register with FirebaseApp ").concat(t.name),e)}}function je(e){var t=e.name;if(!Ae.has(t)){Ae.set(t,e);var n,r=P(Ce.values());try{for(r.s();!(n=r.n()).done;){Te(n.value,e)}}catch(e){r.e(e)}finally{r.f()}return 1}Ee.debug("There were multiple attempts to register component ".concat(t,"."))}function Pe(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Ne=(c(D={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),c(D,"bad-app-name","Illegal App name: '{$appName}"),c(D,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),c(D,"app-deleted","Firebase App named '{$appName}' already deleted"),c(D,"no-options","Need to provide options, when not being deployed to hosting via source."),c(D,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),c(D,"invalid-log-argument","First argument to `onLog` must be null or a function."),c(D,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),c(D,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),c(D,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),c(D,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),D),Le=new z("app","Firebase",Ne),Me=function(){function a(e,t,n){var r=this;I(this,a),this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Y("app",function(){return r},"PUBLIC"))}return C(a,[{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Le.create("app-deleted",{appName:this._name})}},{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}}]),a}();function Be(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=e;"object"!==l(n)&&(n={name:n});var a=Object.assign({name:Oe,automaticDataCollectionEnabled:!1},n),i=a.name;if("string"!=typeof i||!i)throw Le.create("bad-app-name",{appName:String(i)});if(!(r=r||V()))throw Le.create("no-options");var o=Ce.get(i);if(o){if(G(r,o.options)&&G(a,o.config))return o;throw Le.create("duplicate-app",{appName:i})}var s,c=new te(i),u=P(Ae.values());try{for(u.s();!(s=u.n()).done;){var f=s.value;c.addComponent(f)}}catch(e){u.e(e)}finally{u.f()}var p=new Me(r,a,c);return Ce.set(i,p),p}function Re(e,t,n){var r,a=null!==(r=De[e])&&void 0!==r?r:e;n&&(a+="-".concat(n));var i=a.match(/\s|\//),o=t.match(/\s|\//);if(i||o){var s=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return i&&s.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),i&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ee.warn(s.join(" "))}je(new Y("".concat(a,"-version"),function(){return{library:a,version:t}},"VERSION"))}var Fe="firebase-heartbeat-database",We=1,He="firebase-heartbeat-store",Ke=null;function Ve(){return Ke=Ke||function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{},a=r.blocked,i=r.upgrade,o=r.blocking,s=r.terminated,c=indexedDB.open(e,t),u=be(c);return i&&c.addEventListener("upgradeneeded",function(e){i(be(c.result),e.oldVersion,e.newVersion,be(c.transaction))}),a&&c.addEventListener("blocked",function(){return a()}),u.then(function(e){s&&e.addEventListener("close",function(){return s()}),o&&e.addEventListener("versionchange",function(){return o()})}).catch(function(){}),u}(Fe,We,{upgrade:function(e,t){switch(t){case 0:e.createObjectStore(He)}}}).catch(function(e){throw Le.create("idb-open",{originalErrorMessage:e.message})})}function Ue(){return qe.apply(this,arguments)}function qe(){return(qe=h(A.mark(function e(t){var n,r;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ve();case 3:return n=e.sent,e.abrupt("return",n.transaction(He).objectStore(He).get(Ge(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof q?Ee.warn(e.t0.message):(r=Le.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Ee.warn(r.message));case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function ze(){return $e.apply(this,arguments)}function $e(){return($e=h(A.mark(function e(t,n){var r,a,i,o;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ve();case 3:return r=e.sent,a=r.transaction(He,"readwrite"),i=a.objectStore(He),e.next=8,i.put(n,Ge(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof q?Ee.warn(e.t0.message):(o=Le.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Ee.warn(o.message));case 14:case"end":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}function Ge(e){return"".concat(e.name,"!").concat(e.options.appId)}var Je=1024,Ye=function(){function r(e){var t=this;I(this,r),this.container=e,this._heartbeatsCache=null;var n=this.container.getProvider("app").getImmediate();this._storage=new et(n),this._heartbeatsCachePromise=this._storage.read().then(function(e){return t._heartbeatsCache=e})}var e,t;return C(r,[{key:"triggerHeartbeat",value:(t=h(A.mark(function e(){var t,n,r;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Xe(),null===this._heartbeatsCache)return e.next=6,this._heartbeatsCachePromise;e.next=7;break;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(function(e){return e.date===r}))return e.abrupt("return");e.next=11;break;case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"getHeartbeatsHeader",value:(e=h(A.mark(function e(){var t,n,r,a,i;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this._heartbeatsCache)return e.next=3,this._heartbeatsCachePromise;e.next=3;break;case 3:if(null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return e.abrupt("return","");e.next=5;break;case 5:if(t=Xe(),n=Qe(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,a=n.unsentEntries,i=R(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,0<a.length)return this._heartbeatsCache.heartbeats=a,e.next=13,this._storage.overwrite(this._heartbeatsCache);e.next=15;break;case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",i);case 18:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})}]),r}();function Xe(){return(new Date).toISOString().substring(0,10)}function Qe(e,t){var n,r=1<arguments.length&&void 0!==t?t:Je,a=[],i=e.slice(),o=P(e);try{var s=function(){var t=n.value,e=a.find(function(e){return e.agent===t.agent});if(e){if(e.dates.push(t.date),tt(a)>r)return e.dates.pop(),"break"}else if(a.push({agent:t.agent,dates:[t.date]}),tt(a)>r)return a.pop(),"break";i=i.slice(1)};for(o.s();!(n=o.n()).done;){if("break"===s())break}}catch(e){o.e(e)}finally{o.f()}return{heartbeatsToSend:a,unsentEntries:i}}var Ze,et=function(){function t(e){I(this,t),this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}var n,r,e,a;return C(t,[{key:"runIndexedDBEnvironmentCheck",value:(a=h(A.mark(function e(){return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(F()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=function(){a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=function(){n=!1},a.onerror=function(){var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}).then(function(){return!0}).catch(function(){return!1}));case 5:case"end":return e.stop()}},e)})),function(){return a.apply(this,arguments)})},{key:"read",value:(e=h(A.mark(function e(){var t;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ue(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"overwrite",value:(r=h(A.mark(function e(t){var n,r;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ze(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"add",value:(n=h(A.mark(function e(t){var n,r;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ze(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(o(r.heartbeats),o(t.heartbeats))}));case 11:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})}]),t}();function tt(e){return R(JSON.stringify({version:2,heartbeats:e})).length}Ze="",je(new Y("platform-logger",function(e){return new Ie(e)},"PRIVATE")),je(new Y("heartbeat",function(e){return new Ye(e)},"PRIVATE")),Re(_e,"0.9.0",Ze),Re(_e,"0.9.0","esm2017"),Re("fire-js","");function nt(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function at(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function it(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?at(Object(n),!0).forEach(function(e){c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ot(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=m(r);if(a){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)}}Re("firebase","9.15.0","cdn");var st=function(e){y(i,e);var a=ot(i);function i(e,t,n){var r;return I(this,i),(r=a.call(this,t)).code=e,r.customData=n,r.name="FirebaseError",Object.setPrototypeOf(v(r),i.prototype),Error.captureStackTrace&&Error.captureStackTrace(v(r),ct.prototype.create),r}return i}(S(Error)),ct=function(){function r(e,t,n){I(this,r),this.service=e,this.serviceName=t,this.errors=n}return C(r,[{key:"create",value:function(e,t){var r,n=(arguments.length<=1?void 0:t)||{},a="".concat(this.service,"/").concat(e),i=this.errors[e],o=i?(r=n,i.replace(ut,function(e,t){var n=r[t];return null!=n?String(n):"<".concat(t,"?>")})):"Error",s="".concat(this.serviceName,": ").concat(o," (").concat(a,").");return new st(a,s,n)}}]),r}(),ut=/\{\$([^}]+)}/g;function ft(e){return e&&e._delegate?e._delegate:e}var pt,lt,ht=function(){function r(e,t,n){I(this,r),this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return C(r,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),r}(),dt=new WeakMap,vt=new WeakMap,gt=new WeakMap,yt=new WeakMap,bt=new WeakMap,mt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return vt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||gt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function wt(e){return"function"==typeof e?(i=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(lt=lt||[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]).includes(i)?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.apply(xt(this),t),kt(dt.get(this))}:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return kt(i.apply(xt(this),t))}:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=i.call.apply(i,[xt(this),e].concat(n));return gt.set(a,e.sort?e.sort():[e]),kt(a)}:(e instanceof IDBTransaction&&function(i){if(!vt.has(i)){var e=new Promise(function(e,t){function n(){i.removeEventListener("complete",r),i.removeEventListener("error",a),i.removeEventListener("abort",a)}var r=function(){e(),n()},a=function(){t(i.error||new DOMException("AbortError","AbortError")),n()};i.addEventListener("complete",r),i.addEventListener("error",a),i.addEventListener("abort",a)});vt.set(i,e)}}(e),t=e,(pt=pt||[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]).some(function(e){return t instanceof e})?new Proxy(e,mt):e);var i,t}function kt(e){if(e instanceof IDBRequest)return i=e,(t=new Promise(function(e,t){function n(){i.removeEventListener("success",r),i.removeEventListener("error",a)}var r=function(){e(kt(i.result)),n()},a=function(){t(i.error),n()};i.addEventListener("success",r),i.addEventListener("error",a)})).then(function(e){e instanceof IDBCursor&&dt.set(e,i)}).catch(function(){}),bt.set(t,i),t;var i,t;if(yt.has(e))return yt.get(e);var n=wt(e);return n!==e&&(yt.set(e,n),bt.set(n,e)),n}var xt=function(e){return bt.get(e)};function St(e,t,n){var r=2<arguments.length&&void 0!==n?n:{},a=r.blocked,i=r.upgrade,o=r.blocking,s=r.terminated,c=indexedDB.open(e,t),u=kt(c);return i&&c.addEventListener("upgradeneeded",function(e){i(kt(c.result),e.oldVersion,e.newVersion,kt(c.transaction))}),a&&c.addEventListener("blocked",function(){return a()}),u.then(function(e){s&&e.addEventListener("close",function(){return s()}),o&&e.addEventListener("versionchange",function(){return o()})}).catch(function(){}),u}function It(e,t){var n=(1<arguments.length&&void 0!==t?t:{}).blocked,r=indexedDB.deleteDatabase(e);return n&&r.addEventListener("blocked",function(){return n()}),kt(r).then(function(){})}var _t,Et=["get","getKey","getAll","getAllKeys","count"],Ot=["put","add","delete","clear"],Dt=new Map;function Ct(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t){if(Dt.get(t))return Dt.get(t);var c=t.replace(/FromIndex$/,""),u=t!==c,f=Ot.includes(c);if(c in(u?IDBIndex:IDBObjectStore).prototype&&(f||Et.includes(c))){var n=function(){var t=h(A.mark(function e(t){var n,r,a,i,o,s=arguments;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=this.transaction(t,f?"readwrite":"readonly"),r=n.store,a=s.length,i=new Array(1<a?a-1:0),o=1;o<a;o++)i[o-1]=s[o];return u&&(r=r.index(i.shift())),e.next=6,Promise.all([r[c].apply(r,i),f&&n.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}();return Dt.set(t,n),n}}}mt=it(it({},_t=mt),{},{get:function(e,t,n){return Ct(e,t)||_t.get(e,t,n)},has:function(e,t){return!!Ct(e,t)||_t.has(e,t)}});var At="@firebase/installations",Tt=new ct("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function jt(e){return e instanceof st&&e.code.includes("request-failed")}function Pt(e){var t=e.projectId;return"https://firebaseinstallations.googleapis.com/v1/projects/".concat(t,"/installations")}function Nt(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Lt(){return Mt.apply(this,arguments)}function Mt(){return(Mt=h(A.mark(function e(t,n){var r;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent.error,e.abrupt("return",Tt.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status}));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Bt(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Rt(){return Ft.apply(this,arguments)}function Ft(){return(Ft=h(A.mark(function e(t){var n;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return n=e.sent,e.abrupt("return",500<=n.status&&n.status<600?t():n);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Wt(t){return new Promise(function(e){setTimeout(e,t)})}var Ht=/^[cdef][\w-]{21}$/;function Kt(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=(n=e,btoa(String.fromCharCode.apply(String,o(n))).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22));return Ht.test(t)?t:""}catch(e){return""}var n}function Vt(e){return"".concat(e.appName,"!").concat(e.appId)}var Ut=new Map;function qt(e,t){var n,r,a,i=Vt(e);zt(i,t),n=i,r=t,!$t&&"BroadcastChannel"in self&&(($t=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){zt(e.data.key,e.data.fid)}),(a=$t)&&a.postMessage({key:n,fid:r}),0===Ut.size&&$t&&($t.close(),$t=null)}function zt(e,t){var n=Ut.get(e);if(n){var r,a=nt(n);try{for(a.s();!(r=a.n()).done;){(0,r.value)(t)}}catch(e){a.e(e)}finally{a.f()}}}var $t=null,Gt="firebase-installations-store",Jt=null;function Yt(){return Jt=Jt||St("firebase-installations-database",1,{upgrade:function(e,t){0===t&&e.createObjectStore(Gt)}})}function Xt(){return Qt.apply(this,arguments)}function Qt(){return(Qt=h(A.mark(function e(t,n){var r,a,i,o;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vt(t),e.next=3,Yt();case 3:return a=e.sent.transaction(Gt,"readwrite"),i=a.objectStore(Gt),e.next=7,i.get(r);case 7:return o=e.sent,e.next=10,i.put(n,r);case 10:return e.next=12,a.done;case 12:return o&&o.fid===n.fid||qt(t,n.fid),e.abrupt("return",n);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Zt(){return en.apply(this,arguments)}function en(){return(en=h(A.mark(function e(t){var n,r;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Vt(t),e.next=3,Yt();case 3:return r=e.sent.transaction(Gt,"readwrite"),e.next=6,r.objectStore(Gt).delete(n);case 6:return e.next=8,r.done;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function tn(){return nn.apply(this,arguments)}function nn(){return(nn=h(A.mark(function e(t,n){var r,a,i,o,s;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vt(t),e.next=3,Yt();case 3:return a=e.sent.transaction(Gt,"readwrite"),i=a.objectStore(Gt),e.next=7,i.get(r);case 7:if(o=e.sent,void 0===(s=n(o)))return e.next=12,i.delete(r);e.next=14;break;case 12:e.next=16;break;case 14:return e.next=16,i.put(s,r);case 16:return e.next=18,a.done;case 18:return!s||o&&o.fid===s.fid||qt(t,s.fid),e.abrupt("return",s);case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rn(){return an.apply(this,arguments)}function an(){return(an=h(A.mark(function e(r){var a,t;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tn(r.appConfig,function(e){var t=un(e||{fid:Kt(),registrationStatus:0}),n=function(e,t){if(0!==t.registrationStatus)return 1===t.registrationStatus?{installationEntry:t,registrationPromise:on(e)}:{installationEntry:t};var n;if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Tt.create("app-offline"))};var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:r,registrationPromise:(n=h(A.mark(function e(t,n){var r;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(){var n=h(A.mark(function e(t,n){var r,a,i,o,s,c,u,f,p,l,h;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,a=t.heartbeatServiceProvider,i=n.fid,o=Pt(r),s=Bt(r),c=a.getImmediate({optional:!0}))return e.next=6,c.getHeartbeatsHeader();e.next=8;break;case 6:(u=e.sent)&&s.append("x-firebase-client",u);case 8:return f={fid:i,authVersion:"FIS_v2",appId:r.appId,sdkVersion:"w:0.6.0"},p={method:"POST",headers:s,body:JSON.stringify(f)},e.next=12,Rt(function(){return fetch(o,p)});case 12:if((l=e.sent).ok)return e.next=16,l.json();e.next=18;break;case 16:return h=e.sent,e.abrupt("return",{fid:h.fid||i,registrationStatus:2,refreshToken:h.refreshToken,authToken:Nt(h.authToken)});case 18:return e.next=20,Lt("Create Installation",l);case 20:throw e.sent;case 21:case"end":return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}()(t,n);case 3:return r=e.sent,e.abrupt("return",Xt(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),jt(e.t0)&&409===e.t0.customData.serverCode)return e.next=12,Zt(t.appConfig);e.next=14;break;case 12:e.next=16;break;case 14:return e.next=16,Xt(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,t){return n.apply(this,arguments)}(e,r))}}(r,t);return a=n.registrationPromise,n.installationEntry});case 2:if(""===(t=e.sent).fid)return e.next=6,a;e.next=10;break;case 6:e.t1=e.sent,e.t0={installationEntry:e.t1},e.next=11;break;case 10:e.t0={installationEntry:t,registrationPromise:a};case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function on(){return sn.apply(this,arguments)}function sn(){return(sn=h(A.mark(function e(t){var n,r,a,i;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cn(t.appConfig);case 2:n=e.sent;case 3:if(1===n.registrationStatus)return e.next=6,Wt(100);e.next=11;break;case 6:return e.next=8,cn(t.appConfig);case 8:n=e.sent;case 9:e.next=3;break;case 11:if(0===n.registrationStatus)return e.next=14,rn(t);e.next=18;break;case 14:return r=e.sent,a=r.installationEntry,i=r.registrationPromise,e.abrupt("return",i||a);case 18:return e.abrupt("return",n);case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}function cn(e){return tn(e,function(e){if(!e)throw Tt.create("installation-not-found");return un(e)})}function un(e){return 1===e.registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e}function fn(){return pn.apply(this,arguments)}function pn(){return(pn=h(A.mark(function e(o,s){var c,u,f,p,l,h,d,v,g;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=o.appConfig,u=o.heartbeatServiceProvider,a=c,i=s.fid,f="".concat(Pt(a),"/").concat(i,"/authTokens:generate"),t=c,r=void 0,n=s.refreshToken,(r=Bt(t)).append("Authorization","FIS_v2 ".concat(n)),p=r,l=u.getImmediate({optional:!0}))return e.next=5,l.getHeartbeatsHeader();e.next=7;break;case 5:(h=e.sent)&&p.append("x-firebase-client",h);case 7:return d={installation:{sdkVersion:"w:0.6.0",appId:c.appId}},v={method:"POST",headers:p,body:JSON.stringify(d)},e.next=11,Rt(function(){return fetch(f,v)});case 11:if((g=e.sent).ok)return e.t0=Nt,e.next=16,g.json();e.next=18;break;case 16:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 18:return e.next=20,Lt("Generate Auth Token",g);case 20:throw e.sent;case 21:case"end":return e.stop()}var t,n,r,a,i},e)}))).apply(this,arguments)}function ln(){return hn.apply(this,arguments)}function hn(){return(hn=h(A.mark(function e(u){var f,p,t,n=arguments;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f=1<n.length&&void 0!==n[1]&&n[1],e.next=3,tn(u.appConfig,function(e){if(!vn(e))throw Tt.create("not-registered");var t,n,r,a=e.authToken;if(!(f||2!==a.requestStatus||(t=a,(n=Date.now())<t.creationTime||t.creationTime+t.expiresIn<n+36e5)))return e;if(1===a.requestStatus)return r=h(A.mark(function e(t,n){var r,a;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dn(t.appConfig);case 2:r=e.sent;case 3:if(1===r.authToken.requestStatus)return e.next=6,Wt(100);e.next=11;break;case 6:return e.next=8,dn(t.appConfig);case 8:r=e.sent;case 9:e.next=3;break;case 11:return a=r.authToken,e.abrupt("return",0===a.requestStatus?ln(t,n):a);case 13:case"end":return e.stop()}},e)})),p=function(e,t){return r.apply(this,arguments)}(u,f),e;if(!navigator.onLine)throw Tt.create("app-offline");var i,o,s,c=(o=e,s={requestStatus:1,requestTime:Date.now()},Object.assign(Object.assign({},o),{authToken:s}));return i=h(A.mark(function e(t,n){var r,a,i;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fn(t,n);case 3:return r=e.sent,a=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,Xt(t.appConfig,a);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!jt(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode)return i=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=16,Xt(t.appConfig,i);e.next=18;break;case 16:e.next=20;break;case 18:return e.next=20,Zt(t.appConfig);case 20:throw e.t0;case 21:case"end":return e.stop()}},e,null,[[0,10]])})),p=function(e,t){return i.apply(this,arguments)}(u,c),c});case 3:if(t=e.sent,p)return e.next=7,p;e.next=10;break;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=t.authToken;case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function dn(e){return tn(e,function(e){if(!vn(e))throw Tt.create("not-registered");var t=e.authToken;return 1===t.requestStatus&&t.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function vn(e){return void 0!==e&&2===e.registrationStatus}function gn(){return(gn=h(A.mark(function e(t){var n,r,a=arguments;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=1<a.length&&void 0!==a[1]&&a[1],r=t,e.next=4,function(){var t=h(A.mark(function e(t){var n,r;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rn(t);case 2:if(n=e.sent,r=n.registrationPromise,e.t0=r,e.t0)return e.next=8,r;e.next=8;break;case 8:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()(r);case 4:return e.next=6,ln(r,n);case 6:return e.abrupt("return",e.sent.token);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function yn(e){return Tt.create("missing-app-config-values",{valueName:e})}je(new ht("installations",function(e){var t=e.getProvider("app").getImmediate();return{app:t,appConfig:function(e){if(!e||!e.options)throw yn("App Configuration");if(!e.name)throw yn("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw yn(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),heartbeatServiceProvider:Pe(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},"PUBLIC")),je(new ht("installations-internal",function(e){var n=Pe(e.getProvider("app").getImmediate(),"installations").getImmediate();return{getId:function(){return t=h(A.mark(function e(t){var n,r,a,i;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,rn(n);case 3:return r=e.sent,a=r.installationEntry,i=r.registrationPromise,e.abrupt("return",(i?i.catch(console.error):ln(n).catch(console.error),a.fid));case 7:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}(n);var t},getToken:function(e){return function(e){return gn.apply(this,arguments)}(n,e)}}},"PRIVATE")),Re(At,"0.6.0"),Re(At,"0.6.0","esm2017");var bn,mn,wn,kn,xn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";function Sn(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,o(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function In(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),a=0;a<n.length;++a)r[a]=n.charCodeAt(a);return r}(kn=bn=bn||{})[kn.DATA_MESSAGE=1]="DATA_MESSAGE",kn[kn.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION",(wn=mn=mn||{}).PUSH_RECEIVED="push-received",wn.NOTIFICATION_CLICKED="notification-clicked";var _n="firebase-messaging-store",En=null;function On(){return En=En||St("firebase-messaging-database",1,{upgrade:function(e,t){0===t&&e.createObjectStore(_n)}})}function Dn(){return Cn.apply(this,arguments)}function Cn(){return(Cn=h(A.mark(function e(t){var n,r,a,i;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=jn(t),e.next=3,On();case 3:return r=e.sent,e.next=6,r.transaction(_n).objectStore(_n).get(n);case 6:if(a=e.sent)return e.abrupt("return",a);e.next=9;break;case 9:return e.next=11,function(){var t=h(A.mark(function e(p){var l;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("databases"in indexedDB)return e.next=3,indexedDB.databases();e.next=6;break;case 3:if(e.sent.map(function(e){return e.name}).includes("fcm_token_details_db")){e.next=6;break}return e.abrupt("return",null);case 6:return l=null,e.next=9,St("fcm_token_details_db",5,{upgrade:function(){var a=h(A.mark(function e(t,n,r,a){var i,o,s,c,u,f;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n<2)return e.abrupt("return");e.next=2;break;case 2:if(t.objectStoreNames.contains("fcm_token_object_Store")){e.next=4;break}return e.abrupt("return");case 4:return o=a.objectStore("fcm_token_object_Store"),e.next=7,o.index("fcmSenderId").get(p);case 7:return s=e.sent,e.next=10,o.clear();case 10:if(!s){e.next=19;break}if(2!==n){e.next=18;break}if((c=s).auth&&c.p256dh&&c.endpoint){e.next=15;break}return e.abrupt("return");case 15:l={token:c.fcmToken,createTime:null!==(i=c.createTime)&&void 0!==i?i:Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:"string"==typeof c.vapidKey?c.vapidKey:Sn(c.vapidKey)}},e.next=19;break;case 18:3===n?l={token:(u=s).fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Sn(u.auth),p256dh:Sn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Sn(u.vapidKey)}}:4===n&&(l={token:(f=s).fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Sn(f.auth),p256dh:Sn(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Sn(f.vapidKey)}});case 19:case"end":return e.stop()}},e)}));return function(e,t,n,r){return a.apply(this,arguments)}}()});case 9:return e.sent.close(),e.next=12,It("fcm_token_details_db");case 12:return e.next=14,It("fcm_vapid_details_db");case 14:return e.next=16,It("undefined");case 16:return e.abrupt("return",function(){if(l&&l.subscriptionOptions){var e=l.subscriptionOptions;return"number"==typeof l.createTime&&0<l.createTime&&"string"==typeof l.token&&0<l.token.length&&"string"==typeof e.auth&&0<e.auth.length&&"string"==typeof e.p256dh&&0<e.p256dh.length&&"string"==typeof e.endpoint&&0<e.endpoint.length&&"string"==typeof e.swScope&&0<e.swScope.length&&"string"==typeof e.vapidKey&&0<e.vapidKey.length}}()?l:null);case 17:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()(t.appConfig.senderId);case 11:if(i=e.sent)return e.next=15,An(t,i);e.next=16;break;case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function An(){return Tn.apply(this,arguments)}function Tn(){return(Tn=h(A.mark(function e(t,n){var r,a;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=jn(t),e.next=3,On();case 3:return a=e.sent.transaction(_n,"readwrite"),e.next=6,a.objectStore(_n).put(n,r);case 6:return e.next=8,a.done;case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function jn(e){return e.appConfig.appId}var Pn=new ct("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Nn(){return Ln.apply(this,arguments)}function Ln(){return(Ln=h(A.mark(function e(t,n){var r,a,i,o;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bn(t);case 2:return e.t0=e.sent,r={method:"DELETE",headers:e.t0},e.prev=4,e.next=7,fetch("".concat(Mn(t.appConfig),"/").concat(n),r);case 7:return a=e.sent,e.next=10,a.json();case 10:if((i=e.sent).error)throw o=i.error.message,Pn.create("token-unsubscribe-failed",{errorInfo:o});e.next=14;break;case 14:e.next=19;break;case 16:throw e.prev=16,e.t1=e.catch(4),Pn.create("token-unsubscribe-failed",{errorInfo:null==e.t1?void 0:e.t1.toString()});case 19:case"end":return e.stop()}},e,null,[[4,16]])}))).apply(this,arguments)}function Mn(e){var t=e.projectId;return"https://fcmregistrations.googleapis.com/v1/projects/".concat(t,"/registrations")}function Bn(){return Rn.apply(this,arguments)}function Rn(){return(Rn=h(A.mark(function e(t){var n,r,a;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appConfig,r=t.installations,e.next=3,r.getToken();case 3:return a=e.sent,e.abrupt("return",new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(a)}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Fn(e){var t=e.p256dh,n=e.auth,r=e.endpoint,a=e.vapidKey,i={web:{endpoint:r,auth:n,p256dh:t}};return a!==xn&&(i.web.applicationPubKey=a),i}function Wn(){return Hn.apply(this,arguments)}function Hn(){return(Hn=h(A.mark(function e(o){var s,c,u;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var n=h(A.mark(function e(t,n){var r;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.getSubscription();case 2:if(r=e.sent)return e.abrupt("return",r);e.next=5;break;case 5:return e.abrupt("return",t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:In(n)}));case 6:case"end":return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}()(o.swRegistration,o.vapidKey);case 2:return s=e.sent,c={vapidKey:o.vapidKey,swScope:o.swRegistration.scope,endpoint:s.endpoint,auth:Sn(s.getKey("auth")),p256dh:Sn(s.getKey("p256dh"))},e.next=6,Dn(o.firebaseDependencies);case 6:if(!(u=e.sent)){e.next=19;break}if(t=u.subscriptionOptions,0,n=c.vapidKey===t.vapidKey,r=c.endpoint===t.endpoint,a=c.auth===t.auth,i=c.p256dh===t.p256dh,n&&r&&a&&i)return e.abrupt("return",Date.now()>=u.createTime+6048e5?function(){var n=h(A.mark(function e(t,n){var r,a;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(){var n=h(A.mark(function e(t,n){var r,a,i,o,s,c;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bn(t);case 2:return r=e.sent,a=Fn(n.subscriptionOptions),i={method:"PATCH",headers:r,body:JSON.stringify(a)},e.prev=5,e.next=8,fetch("".concat(Mn(t.appConfig),"/").concat(n.token),i);case 8:return s=e.sent,e.next=11,s.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),Pn.create("token-update-failed",{errorInfo:null==e.t0?void 0:e.t0.toString()});case 17:if(o.error)throw c=o.error.message,Pn.create("token-update-failed",{errorInfo:c});e.next=20;break;case 20:if(o.token){e.next=22;break}throw Pn.create("token-update-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}},e,null,[[5,14]])}));return function(e,t){return n.apply(this,arguments)}}()(t.firebaseDependencies,n);case 3:return r=e.sent,a=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()}),e.next=7,An(t.firebaseDependencies,a);case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,Kn(t);case 14:throw e.t0;case 15:case"end":return e.stop()}},e,null,[[0,10]])}));return function(e,t){return n.apply(this,arguments)}}()(o,{token:u.token,createTime:Date.now(),subscriptionOptions:c}):u.token);e.next=10;break;case 10:return e.prev=10,e.next=13,Nn(o.firebaseDependencies,u.token);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10);case 18:case 19:return e.abrupt("return",Un(o.firebaseDependencies,c));case 20:case"end":return e.stop()}var t,n,r,a,i},e,null,[[10,15]])}))).apply(this,arguments)}function Kn(){return Vn.apply(this,arguments)}function Vn(){return(Vn=h(A.mark(function e(t){var n,r;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dn(t.firebaseDependencies);case 2:if(n=e.sent,e.t0=n,e.t0)return e.next=7,Nn(t.firebaseDependencies,n.token);e.next=9;break;case 7:return e.next=9,function(){var t=h(A.mark(function e(t){var n,r;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=jn(t),e.next=3,On();case 3:return r=e.sent.transaction(_n,"readwrite"),e.next=6,r.objectStore(_n).delete(n);case 6:return e.next=8,r.done;case 8:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()(t.firebaseDependencies);case 9:return e.next=11,t.swRegistration.pushManager.getSubscription();case 11:return r=e.sent,e.abrupt("return",!r||r.unsubscribe());case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Un(){return qn.apply(this,arguments)}function qn(){return(qn=h(A.mark(function e(t,n){var r,a;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var n=h(A.mark(function e(t,n){var r,a,i,o,s,c;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bn(t);case 2:return r=e.sent,a=Fn(n),i={method:"POST",headers:r,body:JSON.stringify(a)},e.prev=5,e.next=8,fetch(Mn(t.appConfig),i);case 8:return s=e.sent,e.next=11,s.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),Pn.create("token-subscribe-failed",{errorInfo:null==e.t0?void 0:e.t0.toString()});case 17:if(o.error)throw c=o.error.message,Pn.create("token-subscribe-failed",{errorInfo:c});e.next=20;break;case 20:if(o.token){e.next=22;break}throw Pn.create("token-subscribe-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}},e,null,[[5,14]])}));return function(e,t){return n.apply(this,arguments)}}()(t,n);case 2:return r=e.sent,a={token:r,createTime:Date.now(),subscriptionOptions:n},e.next=6,An(t,a);case 6:return e.abrupt("return",a.token);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function zn(e){var t,n={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var a=t.notification.image;a&&(e.notification.image=a);var i=t.notification.icon;i&&(e.notification.icon=i)}}(n,e),t=n,e.data&&(t.data=e.data),function(e,t){var n,r,a,i,o;if(t.fcmOptions||null!==(n=t.notification)&&void 0!==n&&n.click_action){e.fcmOptions={};var s=null!==(a=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==a?a:null===(i=t.notification)||void 0===i?void 0:i.click_action;s&&(e.fcmOptions.link=s);var c=null===(o=t.fcmOptions)||void 0===o?void 0:o.analytics_label;c&&(e.fcmOptions.analyticsLabel=c)}}(n,e),n}function $n(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function Gn(e){return Pn.create("missing-app-config-values",{valueName:e})}$n("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),$n("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var Jn=function(){function a(e,t,n){I(this,a),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var r=function(e){if(!e||!e.options)throw Gn("App Configuration Object");if(!e.name)throw Gn("App Name");for(var t=e.options,n=0,r=["projectId","apiKey","appId","messagingSenderId"];n<r.length;n++){var a=r[n];if(!t[a])throw Gn(a)}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}return C(a,[{key:"_delete",value:function(){return Promise.resolve()}}]),a}();function Yn(){return Xn.apply(this,arguments)}function Xn(){return(Xn=h(A.mark(function e(t){return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"});case 3:t.swRegistration=e.sent,t.swRegistration.update().catch(function(){}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),Pn.create("failed-service-worker-registration",{browserErrorMessage:null==e.t0?void 0:e.t0.message});case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function Qn(){return Zn.apply(this,arguments)}function Zn(){return(Zn=h(A.mark(function e(t,n){return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator){e.next=2;break}throw Pn.create("only-available-in-window");case 2:if(e.t0="default"===Notification.permission,e.t0)return e.next=6,Notification.requestPermission();e.next=6;break;case 6:if("granted"!==Notification.permission)throw Pn.create("permission-blocked");e.next=8;break;case 8:return e.next=10,function(){var n=h(A.mark(function e(t,n){return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n?t.vapidKey=n:t.vapidKey||(t.vapidKey=xn);case 1:case"end":return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}()(t,null==n?void 0:n.vapidKey);case 10:return e.next=12,function(){var n=h(A.mark(function e(t,n){return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n||t.swRegistration,e.t0){e.next=4;break}return e.next=4,Yn(t);case 4:if(!n&&t.swRegistration){e.next=8;break}if(n instanceof ServiceWorkerRegistration){e.next=7;break}throw Pn.create("invalid-sw-registration");case 7:t.swRegistration=n;case 8:case"end":return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}()(t,null==n?void 0:n.serviceWorkerRegistration);case 12:return e.abrupt("return",Wn(t));case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function er(){return tr.apply(this,arguments)}function tr(){return(tr=h(A.mark(function e(t,n,r){var a;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){switch(n){case mn.NOTIFICATION_CLICKED:return"notification_open";case mn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(),e.next=3,t.firebaseDependencies.analyticsProvider.get();case 3:e.sent.logEvent(a,{message_id:r["google.c.a.c_id"],message_name:r["google.c.a.c_l"],message_time:r["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var nr="@firebase/messaging";function rr(){return ar.apply(this,arguments)}function ar(){return(ar=h(A.mark(function e(){return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=function(){a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=function(){n=!1},a.onerror=function(){var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",!1);case 8:return e.abrupt("return","undefined"!=typeof window&&function(){try{return"object"==("undefined"==typeof indexedDB?"undefined":l(indexedDB))}catch(e){return!1}}()&&!("undefined"==typeof navigator||!navigator.cookieEnabled)&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"));case 9:case"end":return e.stop()}},e,null,[[0,5]])}))).apply(this,arguments)}function ir(e){var t=0<arguments.length&&void 0!==e?e:function(e){var t=0<arguments.length&&void 0!==e?e:Oe,n=Ce.get(t);if(!n&&t===Oe)return Be();if(!n)throw Le.create("no-app",{appName:t});return n}();return rr().then(function(e){if(!e)throw Pn.create("unsupported-browser")},function(e){throw Pn.create("indexed-db-unsupported")}),Pe(ft(t),"messaging").getImmediate()}function or(){return(or=h(A.mark(function e(t,n){return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qn(t=ft(t),n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}je(new ht("messaging",function(e){var t=new Jn(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",function(e){return n=h(A.mark(function e(t,n){var r,a,i;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=n.data).isFirebaseMessaging){e.next=3;break}return e.abrupt("return");case 3:if(t.onMessageHandler&&r.messageType===mn.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(zn(r)):t.onMessageHandler.next(zn(r))),a=r.data,e.t0="object"==l(i=a)&&i&&"google.c.a.c_id"in i&&"1"===a["google.c.a.e"],e.t0)return e.next=9,er(t,r.messageType,a);e.next=9;break;case 9:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)}(t,e);var n}),t},"PUBLIC")),je(new ht("messaging-internal",function(e){var t=e.getProvider("messaging").getImmediate();return{getToken:function(e){return Qn(t,e)}}},"PRIVATE")),Re(nr,"0.12.0"),Re(nr,"0.12.0","esm2017");var sr=function(e,t){if(e.length<=t)return e;var n=e.split(" "),r=[];for(var a in n)if(0==n[a].length?r.push(" "):r.push(n[a]),r.join(" ").length>=t)break;var i=r.join(" ");if(i.length>t){var o=i.lastIndexOf(" ");-1<o&&(i=i.substr(0,o))}return i!=e?i+"...":e},cr=function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var a=n[r];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""},ur=function(e){var t=document.createElement("template");return t.innerHTML=e,t.content.cloneNode(!0)},fr={firebaseConfig:{apiKey:"AIzaSyAQ9qYH1t6Rp4ROy08599CA5nQdicNYYPM",authDomain:"vnexpress-9e52f.firebaseapp.com",databaseURL:"https://vnexpress-9e52f.firebaseio.com",projectId:"vnexpress-9e52f",storageBucket:"vnexpress-9e52f.appspot.com",messagingSenderId:"58788879933",appId:"1:58788879933:web:575c01d2ce36ab17b95454",measurementId:"G-V13GH8PMCN"},vapidKey:{vapidKey:"BKAk5tcNcfJ-oXoxfLA6Hta-UzRocxiT6d8eUqCNepm4Oyo82Py2lFWXA2SARXkSxCILtuJIpa1MNlu7IHKd1YY"},wpnSiteID:1,wpnAppID:100,keyTokenLocal:"wpn_token_".concat(1),flatformInfo:{1:"mobile",2:"tablet",4:"pc"}};function pr(){"undefined"!=typeof device_env&&1!=device_env&&document.querySelector("body").classList.remove("webpush-body")}function lr(){var e=new Date,t=kr();if(null!==t){var n=dr(),r=document.querySelector("[name=tt_list_folder]"),a={platform:"undefined"!=typeof device_env?fr.flatformInfo[device_env]:"pc",browser:n.browser,os:n.os,orig_aid:cr("orig_aid")?cr("orig_aid"):"",fosp_uid:cr("fosp_uid")?cr("fosp_uid"):"",myvne_id:cr("myvne_user_id")?parseInt(cr("myvne_user_id")):0,create_time:null!=l(t.create_time)?t.create_time:Math.round(e.getTime()/1e3),update_time:Math.round(e.getTime()/1e3),app_id:fr.wpnAppID,site_id:fr.wpnSiteID,folder_setting:r?parseInt(r.getAttribute("content").split(",").pop()):null,token:t.token};fetch("https://lc.vnecdn.net/noti/updatetoken/",{method:"POST",mode:"no-cors",cache:"no-cache",headers:{Accept:"application/json, text/plain, /","Content-Type":"application/json"},body:JSON.stringify(a).toString()}).then(function(e){}).catch(function(e){})}}function hr(e){fr.wpnSiteID=e,fr.keyTokenLocal="wpn_token_".concat(e)}function dr(){function e(e){return e.test(window.navigator.userAgent)}var t,n;return{os:(t=navigator.userAgent,n="Other",-1!==t.search("Windows")?n="Windows":-1!==t.search("Mac")?n="Mac OS X":-1!==t.search("Android")?n="Android":-1!==t.search("Linux")&&(n="Linux"),n.toLowerCase()),browser:function(){switch(!0){case e(/edg/i):return"Edge";case e(/firefox|fxios/i):return"Firefox";case e(/opr\//i):return"Opera";case e(/ucbrowser/i):return"UC Browser";case e(/samsungbrowser/i):return"Samsung Browser";case e(/chrome|chromium|crios/i):return"Chrome";case e(/safari/i):return"Safari";default:return"Other"}}().toLowerCase()}}function vr(){return ir(Be(fr.firebaseConfig))}function gr(e){return function(e,t){return or.apply(this,arguments)}(e,fr.vapidKey)}function yr(){return rr()}function br(){var e=!1;return"granted"!==Notification.permission&&"default"!==Notification.permission||(e=!0),e}function mr(e,t){var n,r=new Date,a=kr(),i=dr(),o=document.querySelector("[name=tt_list_folder]"),s=(n={token:"",platform:"undefined"!=typeof device_env?fr.flatformInfo[device_env]:"pc",browser:i.browser,os:i.os,orig_aid:cr("orig_aid")?cr("orig_aid"):"",fosp_uid:cr("fosp_uid")?cr("fosp_uid"):"",myvne_id:cr("myvne_user_id")?parseInt(cr("myvne_user_id")):0,create_time:null!==a&&null!=l(a.create_time)?a.create_time:Math.round(r.getTime()/1e3),update_time:Math.round(r.getTime()/1e3),app_id:fr.wpnAppID,site_id:fr.wpnSiteID,folder_setting:o?parseInt(o.getAttribute("content").split(",").pop()):null},c(n,"token",e),c(n,"status",1),n);null!=t&&(s.status=t),fetch("https://lc.vnecdn.net/noti/register/",{method:"POST",mode:"no-cors",cache:"no-cache",headers:{Accept:"application/json, text/plain, /","Content-Type":"application/json"},body:JSON.stringify(s).toString()}).then(function(e){1==s.status&&localStorage.setItem(fr.keyTokenLocal,JSON.stringify(s))}).catch(function(e){})}function wr(){var e=kr();null!=e.token&&(mr(e.token,0),xr())}function kr(){try{return JSON.parse(localStorage.getItem(fr.keyTokenLocal))}catch(e){return null}}function xr(){null!==localStorage.getItem(fr.keyTokenLocal)&&localStorage.removeItem(fr.keyTokenLocal)}function Sr(e,t){"undefined"!=typeof device_env&&1!=device_env&&(document.querySelector("body").appendChild(ur('<div class="webpush-mask"></div>')),document.querySelector("body").classList.add("webpush-body"),setTimeout(function(){pr()},5e3)),gr(e).then(function(e){e?(pr(),mr(e,1),navigator.serviceWorker.ready.then(function(e){var t="bn";""!=cr("myvne_user_id")&&"undefined"!=typeof myvne_users&&void 0!==myvne_users.profile&&void 0!==myvne_users.profile.user_fullname&&myvne_users.profile.user_fullname&&(t=sr(myvne_users.profile.user_fullname,20)),e.showNotification("Bn  ng k thnh cng ",{body:"Cm n "+t+"  ng k nhn tin, chng ti s cp nht thng tin quan trng ti bn hng ngy",icon:"https://s1.vnecdn.net/vnexpress/restruct/i/v671/logos/57x57.png",requireInteraction:!0})}).catch(function(e){}).finally(function(){t()})):pr()}).catch(function(e){pr()})}"permissions"in navigator&&navigator.permissions.query({name:"notifications"}).then(function(e){e.onchange=function(){pr(),"denied"!=e.state&&"prompt"!=e.state||null!=kr()&&wr()}}).catch(function(e){}),function(){window.WPN=fr,window.WPN.getInfoDevice=dr,window.WPN.getFirebaseMessaging=vr,window.WPN.getFirebaseToken=gr,window.WPN.isFirebaseSupported=yr,window.WPN.isAllowPushNotify=br,window.WPN.updateSubscriber=mr,window.WPN.removeSubscriber=wr,window.WPN.getTokenLocal=kr,window.WPN.removeTokenLocal=xr,window.WPN.notifyRegistration=Sr,window.WPN.setSiteId=hr;var e=fr.keyTokenLocal+"_log",t=sessionStorage.getItem(e),n=Math.round((new Date).getTime()/1e3);(!t||600<=n-parseInt(t))&&(lr(),sessionStorage.setItem(e,n))}(),window.WPN&&/^https:\/\/([a-z]+\.)?vnexpress\.net/.test(location.origin)&&window.WPN.isFirebaseSupported()&&window.WPN.isAllowPushNotify()&&null==window.WPN.getTokenLocal()&&function(){var e=WPN.keyTokenLocal+"_prompt",t=localStorage.getItem(e),n=Math.round((new Date).getTime()/1e3);if(t){var r=JSON.parse(t);if(!(r.expire_time<=n&&r.time<3))return;r.time++,r.expire_time=n+604800*r.time,localStorage.setItem(e,JSON.stringify(r))}else{var a={expire_time:n+604800,time:1};localStorage.setItem(e,JSON.stringify(a))}var i=window.WPN.getFirebaseMessaging();window.WPN.notifyRegistration(i,function(){})}()}();

!function(){"use strict";function o(e){return Object.assign({},U,e)}function i(e,t){var n,o="LazyLoad::Initialized",i=new e(t);try{n=new CustomEvent(o,{detail:{instance:i}})}catch(e){(n=document.createEvent("CustomEvent")).initCustomEvent(o,!1,!1,{instance:i})}window.dispatchEvent(n)}function g(e,t){return e.getAttribute(J+t)}function a(e,t,n){var o=J+t;null!==n?e.setAttribute(o,n):e.removeAttribute(o)}function h(e,t){return a(e,K,t)}function s(e,t){return a(e,Q,t)}function c(e){return g(e,Q)}function y(e,t,n,o){e&&(void 0===o?void 0===n?e(t):e(t,n):e(t,n,o))}function m(e,t){j?e.classList.add(t):e.className+=(e.className?" ":"")+t}function r(e,t){j?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")}function _(e){return e.llTempImage}function b(e){e&&(e.loadingCount+=1)}function n(e,t,n){n&&e.setAttribute(t,n)}function l(e,t){n(e,"sizes",g(e,t.data_sizes)),n(e,"srcset",g(e,t.data_srcset)),n(e,"src",g(e,t.data_src))}function d(e,t,n){var o=X[e.tagName];o&&(o(e,t),b(n),m(e,t.class_loading),h(e,B),y(t.callback_loading,e,n),y(t.callback_reveal,e,n))}function u(e,t){!t||t.toLoadCount||t.loadingCount||y(e.callback_finish,t)}function f(e,t,n){e.addEventListener(t,n)}function v(e,t,n){e.removeEventListener(t,n)}function p(e,t,n){v(e,Y,t),v(e,Z,t),v(e,ee,n)}function w(e,t,n){var o;delete e.llTempImage,(o=n)&&--o.loadingCount,r(e,t.class_loading)}function L(a,r,l){function d(e){var t,n,o;w(t=a,n=r,o=l),m(t,n.class_loaded),h(t,"loaded"),y(n.callback_loaded,t,o),u(n,o),p(s,d,i)}var e,t,n,s=_(a)||a,i=function e(t){var n,o,i;w(n=a,o=r,i=l),m(n,o.class_error),h(n,$),y(o.callback_error,n,i),u(o,i),p(s,d,e)};n=i,f(e=s,Y,t=d),f(e,Z,t),f(e,ee,n)}function z(e,t){t&&--t.toLoadCount}function C(e,t,n){var o,i,a,r,l,d,s,c,u,f,v,p;e.llTempImage=document.createElement("img"),L(e,t,n),a=n,r=g(o=e,(i=t).data_bg),l=g(o,i.data_bg_hidpi),(d=F&&l?l:r)&&(o.style.backgroundImage='url("'.concat(d,'")'),_(o).setAttribute("src",d),b(a),m(o,i.class_loading),h(o,B),y(i.callback_loading,o,a),y(i.callback_reveal,o,a)),u=n,f=g(s=e,(c=t).data_bg_multi),v=g(s,c.data_bg_multi_hidpi),(p=F&&v?v:f)&&(s.style.backgroundImage=p,m(s,c.class_applied),h(s,"applied"),y(c.callback_applied,s,u))}function E(e,t,n){var o,i,a,r;r=e,-1<te.indexOf(r.tagName)?(L(o=e,i=t,a=n),d(o,i,a)):C(e,t,n),z(0,n),function(e,t){if(t){var n=t._observer;n&&t._settings.auto_unobserve&&n.unobserve(e)}}(e,n),u(t,n)}function x(e){var t=c(e);t&&(clearTimeout(t),s(e,null))}function k(e,t,n){var o,i,a,r,l,d=n._settings;y(d.callback_enter,e,t,n),d.load_delay?(o=e,a=n,r=(i=d).load_delay,(l=c(o))||(l=setTimeout(function(){E(o,i,a),x(o)},r),s(o,l))):E(e,d,n)}function I(e){return e.use_native&&oe in HTMLImageElement.prototype}function A(e,i,a){e.forEach(function(e){var t,n,o;-1!==ne.indexOf(e.tagName)&&(e.setAttribute(oe,"lazy"),L(t=e,n=i,o=a),d(t,n,o),z(0,o),h(t,"native"),u(n,o))}),a.toLoadCount=0}function T(e,t){var n;e.disconnect(),n=e,t.forEach(function(e){n.observe(e),h(e,V)})}function N(r){var e;G&&!I(r._settings)&&(r._observer=new IntersectionObserver(function(e){e.forEach(function(e){return(a=e).isIntersecting||0<a.intersectionRatio?k(e.target,e,r):(t=e.target,n=e,i=(o=r)._settings,y(i.callback_exit,t,n,o),void(i.load_delay&&x(t)));var t,n,o,i,a})},{root:(e=r._settings).container===document?null:e.container,rootMargin:e.thresholds||e.threshold+"px"}))}function S(e){return Array.prototype.slice.call(e)}function M(e){return e.container.querySelectorAll(e.elements_selector)}function O(e){return!(null!==g(e,K))||g(e,K)===V}function R(e){return g(e,K)===$}function W(e,t){return n=e||M(t),S(n).filter(O);var n}function D(e){var t,n=e._settings;(t=M(n),S(t).filter(R)).forEach(function(e){r(e,n.class_error),a(e,K,null)}),e.update()}function e(e,t){var n;this._settings=o(e),this.loadingCount=0,N(this),n=this,H&&window.addEventListener("online",function(e){D(n)}),this.update(t)}var t,q=(function(t){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(e){return typeof e}:t.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}t.exports=n}(t={exports:{}},t.exports),t.exports),H="undefined"!=typeof window,P=H&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider|headless/i.test(navigator.userAgent),G=H&&"IntersectionObserver"in window,j=H&&"classList"in document.createElement("p"),F=H&&1<window.devicePixelRatio,U={elements_selector:"img",container:P||H?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,auto_unobserve:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,use_native:!1},V="observed",B="loading",$="error",J="data-",K="ll-status",Q="ll-timeout",X={IMG:function(e,t){var n=e.parentNode;n&&"PICTURE"===n.tagName&&function(e){for(var t,n=[],o=0;t=e.children[o];o+=1)"SOURCE"===t.tagName&&n.push(t);return n}(n).forEach(function(e){l(e,t)});l(e,t)},IFRAME:function(e,t){n(e,"src",g(e,t.data_src))},VIDEO:function(e){if(null!==e&&"VIDEO"===e.tagName){var t=e.querySelector("source");if(null!=t){var n=t.getAttribute("data-src-video"),o=t.getAttribute("data-src-image");t.setAttribute("src",n),e.setAttribute("src",n),o?(e.setAttribute("poster",o),!0===window.lazyLoadCondition.response?(e.setAttribute("preload","auto"),window.lazyLoadCondition.autoplay(e)):window.lazyLoadCondition.play(e)):(e.setAttribute("preload","auto"),!0===window.lazyLoadCondition.response?window.lazyLoadCondition.autoplay(e):window.lazyLoadCondition.play(e))}}}},Y="load",Z="loadeddata",ee="error",te=["IMG","IFRAME","VIDEO"],ne=["IMG","IFRAME"],oe="loading";e.prototype={update:function(e){var t=this._settings,n=W(e,t);this.toLoadCount=n.length,!P&&G?I(t)?A(n,t,this):T(this._observer,n):this.loadAll(n)},destroy:function(){this._observer&&this._observer.disconnect(),delete this._observer,delete this._settings,delete this.loadingCount,delete this.toLoadCount},loadAll:function(e){var t=this,n=this._settings;W(e,n).forEach(function(e){E(e,n,t)})},load:function(e){E(e,this._settings,this)}},e.load=function(e,t){var n=o(t);E(e,n)},H&&function(e,t){if(t)if(t.length)for(var n,o=0;n=t[o];o+=1)i(e,n);else i(e,t)}(e,window.lazyLoadOptions),window.lazyLoadCondition={response:!1,retina:function(){return void 0!==window.devicePixelRatio&&1<window.devicePixelRatio||void 0!==window.matchMedia&&window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),(min--moz-device-pixel-ratio: 1.5),(-o-min-device-pixel-ratio: 3/2),(min-resolution: 1.5dppx)").matches},speed:function(){var t=!0,e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return void 0!==e?((void 0!==e.saveData&&!0===e.saveData||void 0!==e.effectiveType&&0<=["slow-2g","2g"].indexOf(e.effectiveType)||void 0!==e.effectiveType&&"3g"===e.effectiveType&&void 0!==e.downlink&&e.downlink<=1.5)&&(t=!1),t):new Promise(function(e,t){window.lazyLoadCondition.polyfill(e,t)}).then(function(e){e<=1.5&&(t=!1)}).catch(function(){t=!1}).then(function(){return t})},polyfill:function(o,n){var e=navigator.userAgent,t=window.lazyLoadCondition.getCookie("network_speed");if(void 0!==e&&(-1<e.indexOf("Google Page Speed Insights")||-1<e.indexOf("Chrome-Lighthouse")))n();else if(""==t){var i,a=new Image;a.onload=function(){var e,t,n=(4076848/(((new Date).getTime()-i)/1e3)).toFixed(2)/1e6;n&&((e=new Date).setTime(e.getTime()+18e5),t="; expires="+e.toGMTString(),document.cookie="network_speed="+n+t+"; domain=vnexpress.net");o(n)},a.onerror=function(e,t){n()},i=(new Date).getTime(),a.src=img_url_vne+"/retina.jpg?nnn="+i}else""!=t?o(t):n()},getCookie:function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),o=0;o<n.length;o++){for(var i=n[o];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""},initialize:function(){var e=window.lazyLoadCondition.speed();"boolean"==typeof e?window.lazyLoadCondition.response=e:"object"===q(e)&&e.then(function(e){window.lazyLoadCondition.response=e})},play:function(e){var t=e.parentNode.parentNode;t.addEventListener("mouseover",function(){try{t.querySelector("video").play()}catch(e){}},!1),t.addEventListener("mouseout",function(){try{t.querySelector("video").pause()}catch(e){}},!1)},autoplay:function(e){var n=e.parentNode.parentNode;new IntersectionObserver(function(e,t){e.forEach(function(e){if(!0===e.isIntersecting)try{n.querySelector("video").play()}catch(e){}else try{n.querySelector("video").pause()}catch(e){}})},{rootMargin:"0px",threshold:[0,1]}).observe(n)}},window.lazyLoadCondition.initialize();var ie=!1;try{ie=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&"loading"in document.createElement("img")}catch(e){}window.lazyLoadInstance=new e({elements_selector:".lazy",threshold:300,thresholds:window.innerHeight?window.innerHeight+"px":"500px",class_loaded:"lazied",use_native:ie,callback_loaded:function(e){if(e.classList.contains("lazy-blur")&&(e.insertAdjacentHTML("afterend",e.outerHTML.replace("lazy-blur","lazy-blur lazy-unblur")),setTimeout(function(){e.nextElementSibling.style.opacity=1},100),setTimeout(function(){e.parentNode.removeChild(e)},2e3)),null!==e&&e.classList.contains("thumb-gif")&&2<=e.readyState){var t=e.parentNode.parentNode;if(null!==t&&null!==t.querySelector("[itemprop=width]")){var n=+t.querySelector("[itemprop=width]").getAttribute("content"),o=+t.querySelector("[itemprop=height]").getAttribute("content");if(n!==e.videoWidth||o!==e.videoHeight){var i=e.parentNode,a=0;if(a=e.videoWidth>e.videoHeight&&e.videoWidth>=i.offsetWidth?e.videoHeight/e.videoWidth*100:e.videoHeight/i.offsetWidth*100,i.style.paddingBottom=a+"%",e.videoWidth>=i.offsetWidth)e.style.width="100%",e.style.left=0;else{var r=(i.offsetWidth-e.videoWidth)/2;e.style.width=e.videoWidth+"px",e.style.left=r+"px"}1==PAGE_DETAIL&&1==device_env&&"undefined"!=typeof _ldpr&&1===_ldpr&&(i.style.paddingBottom=0)}}}},callback_error:function(){}}),window.addEventListener("DOMContentLoaded",function(){"undefined"!=typeof lazyLoadInstance&&lazyLoadInstance.update()}),window.addEventListener("load",function(){"undefined"!=typeof lazyLoadInstance&&lazyLoadInstance.update()})}();
